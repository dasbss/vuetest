{"remainingRequest":"D:\\123\\vueTest\\node_modules\\babel-loader\\lib\\index.js!D:\\123\\vueTest\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\123\\vueTest\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\123\\vueTest\\src\\components\\liuyan.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\123\\vueTest\\src\\components\\liuyan.vue","mtime":1660147512128},{"path":"D:\\123\\vueTest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654095328637},{"path":"D:\\123\\vueTest\\node_modules\\babel-loader\\lib\\index.js","mtime":1654095327293},{"path":"D:\\123\\vueTest\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654095328637},{"path":"D:\\123\\vueTest\\node_modules\\vue-loader\\lib\\index.js","mtime":1654095366288}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      textarea: '',\n      select: ''\n    };\n  },\n\n  mounted() {\n    axios.get(\"http://localhost:9999/selectMessages\").then(select => {\n      this.select = select.data;\n    });\n  },\n\n  methods: {\n    insert() {\n      //有bug\n      if (this.textarea == '') {\n        this.$message.error('留言不能为空，请输入');\n      } else {\n        axios.post(\"http://localhost:9999/insert\", {\n          'content': this.textarea,\n          'username': this.$route.params.miss\n          /* \t\t\t'username':localStorage.getItem(\"loginusername\") */\n\n        }).then(insert => {\n          if (this.$route.params.miss == null) {\n            this.$message({\n              message: '未登录不能留言,跳转登录页面',\n              type: 'warning'\n            });\n            this.$router.push(\"/\");\n          } else {\n            //insert.data.messages==true)\n            if (this.$route.params.miss != null && this.$route.params.miss != \"\") {\n              this.$message({\n                type: 'success',\n                message: '留言成功!'\n              });\n              this.$router.go(0);\n            }\n          }\n        });\n      }\n    }\n\n  }\n};",{"version":3,"sources":["liuyan.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,OAAA,KAAA,MAAA,OAAA;AACA,eAAA;AACA,EAAA,IAAA,GAAA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,MAAA,EAAA;AAFA,KAAA;AAIA,GANA;;AAOA,EAAA,OAAA,GAAA;AACA,IAAA,KAAA,CAAA,GAAA,CAAA,sCAAA,EACA,IADA,CACA,MAAA,IAAA;AACA,WAAA,MAAA,GAAA,MAAA,CAAA,IAAA;AACA,KAHA;AAIA,GAZA;;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,MAAA,GAAA;AACA;AACA,UAAA,KAAA,QAAA,IAAA,EAAA,EAAA;AACA,aAAA,QAAA,CAAA,KAAA,CAAA,YAAA;AACA,OAFA,MAEA;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,8BAAA,EAAA;AACA,qBAAA,KAAA,QADA;AAEA,sBAAA,KAAA,MAAA,CAAA,MAAA,CAAA;AACA;;AAHA,SAAA,EAIA,IAJA,CAIA,MAAA,IAAA;AACA,cAAA,KAAA,MAAA,CAAA,MAAA,CAAA,IAAA,IAAA,IAAA,EAAA;AACA,iBAAA,QAAA,CAAA;AACA,cAAA,OAAA,EAAA,gBADA;AAEA,cAAA,IAAA,EAAA;AAFA,aAAA;AAIA,iBAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA,WANA,MAMA;AACA;AACA,gBAAA,KAAA,MAAA,CAAA,MAAA,CAAA,IAAA,IAAA,IAAA,IAAA,KAAA,MAAA,CAAA,MAAA,CAAA,IAAA,IAAA,EAAA,EAAA;AACA,mBAAA,QAAA,CAAA;AACA,gBAAA,IAAA,EAAA,SADA;AAEA,gBAAA,OAAA,EAAA;AAFA,eAAA;AAIA,mBAAA,OAAA,CAAA,EAAA,CAAA,CAAA;AACA;AACA;AACA,SArBA;AAsBA;AACA;;AA7BA;AAbA,CAAA","sourcesContent":["<template>\r\n\t<div class=\"father\">\r\n\t\t<div class=\"twobox\">\r\n\t\t\t接受赞美和批评，希望大家多多留言，指出不足和错误欢迎进行留言和评论</div>\r\n\t\t\r\n\t\t<div>\r\n\t\t<div class=\"liuyan\">\r\n\t\t\t<div class=\"onebox\">\r\n\t\t\t\t留言板\r\n\t\t\t</div>\r\n\t\t\t<el-input\r\n\t\t\t  type=\"textarea\"\r\n\t\t\t  :rows=\"3\"\r\n\t\t\t  placeholder=\"请输入内容\"\r\n\t\t\t  v-model=\"textarea\">\r\n\t\t\t</el-input>\r\n\t\t\t<el-button slot=\"reference\"\r\n\t\t\t@click=\"insert\">发表</el-button>\r\n\t\t\t<div>\r\n\t\t\t\t<table>\r\n\t\t\t\t\t<ul v-for=\"(i,key) in select\" :key=\"key\">\r\n\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t<td>{{i.username}}:</td>\r\n\t\t\t\t\t\t\t<td>{{i.content}}</td>\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t<td>{{i.time}}</td>\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t\n</template>\n\n<script>\r\n\timport axios from 'axios'\r\n\texport default {\r\n\t  data() {\r\n\t    return {\r\n\t      textarea: '',\r\n\t\t  select:''\r\n\t    }\r\n\t  },\r\n\t  mounted(){\r\n\t\t  axios.get(\"http://localhost:9999/selectMessages\")\r\n\t\t  .then(select=>{\r\n\t\t\t  this.select=select.data\r\n\t\t  })\r\n\t  },\r\n\t  methods:{\r\n\t\t  insert(){\r\n\t\t\t  //有bug\r\n\t\t\t  if(this.textarea==''){\r\n\t\t\t\t  this.$message.error('留言不能为空，请输入');\r\n\t\t\t  }else{\r\n\t\t\t  axios.post(\"http://localhost:9999/insert\",{\r\n\t\t\t\t'content':this.textarea,\r\n\t\t\t\t'username':this.$route.params.miss\r\n\t/* \t\t\t'username':localStorage.getItem(\"loginusername\") */\r\n\t\t\t  }).then(insert=>{\r\n\t\t\t\tif(this.$route.params.miss==null){\r\n\t\t\t\t\t this.$message({\r\n\t\t\t\t\t          message: '未登录不能留言,跳转登录页面',\r\n\t\t\t\t\t          type: 'warning'\r\n\t\t\t\t\t        });\r\n\t\t\t\t\tthis.$router.push(\"/\")\r\n\t\t\t\t}else{\r\n\t\t\t\t\t//insert.data.messages==true)\r\n\t\t\t\tif(this.$route.params.miss!=null && this.$route.params.miss!=\"\"){\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t  type: 'success',\r\n\t\t\t\t\t  message: '留言成功!',\t\t\t\t\t\r\n\t\t\t\t\t});\r\n\t\t\t\t   this.$router.go(0)\r\n\t\t\t\t} \t\r\n\t\t\t  }\r\n\t\t\t  })\r\n\t\t\t  }\r\n\t\t  }\r\n\t  }\r\n\t}\n</script>\n\n<style scoped>\r\n\t.father{\r\n\t\theight: 1080px;\r\n\t\twidth: 100%;\r\n\t\tbackground-image:url('../assets/img/src=http___m.13lz.cn_d_file_2021-06-18_d67d12779bdf3822482e68682548a274.jpg&refer=http___m.13lz.webp')\r\n\t}\r\n\t.liuyan{\r\n\t\twidth: 800px;\r\n\t\theight: 940px;\r\n\t\tborder-color: rgba(255, 255, 255, 0.1);\r\n\t\tposition: absolute;\r\n\t\tleft: 550px;\r\n\t\ttop: 200px;\r\n\t}\r\n\t.onebox{\r\n\t\twidth: 100%;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 30px;\r\n\t\tmargin-bottom: 30px;\r\n\t}\r\n\t.twobox{\r\n\t\ttext-indent: 2em;\r\n\t\tmargin-top: 10px;\r\n\t\tfont-size: 22px;\r\n\t\tfont-style: initial;\r\n\t}\r\n\tul{\r\n\t\t\t  padding: 0 0 0 0;\r\n\t}\r\n\ttable{\r\n\t\t\t   width: 100%;\r\n\t}\r\n\ttable th{\r\n\t\t\t   width: 800px;\r\n\t\t\t   height: 90px;\r\n\t}\r\n\ttable th {\r\n\t\tborder: 1px solid black;\r\n\t}\r\n\t\n</style>"],"sourceRoot":"src/components"}]}